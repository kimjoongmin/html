## 마무리

### DOM

- 문서 객체 모델(document Object Model)은 웹 브라우저에 표시되는 문서를 자바스크립트가 이해할 수 있도록 객체화환 모델 구조
- DOM은 트리 구조로 생성되는데, 이를 DOM 트리라고 합니다.
- DOM 트리를 구성하는 노드의 타입은 다음과 같습니다
  |타입|설명|
  |---|---|
  |문서 노드|최상위 document 객체의 노드 타입|
  |요소 노드|h1, p 태그와 같은 요소의 노드 타입|
  |속성 노드|href, src와 같은 속성의 노드 타입|
  |텍스트 노드|텍스트에 해당하는 노드 타입|
  |주석 노드|주석에 해당하는 노드 타입|
- DOM 트리의 노드를 탐색하는 속성은 다음과 같습니다.

  - 모든 노드 탐색
    |속성|설명|
    |---|---|
    |parentNode|부모 노드를 반환|
    |childNodes|모든 자식 노드를 반환|
    |firstChild|첫번째 자식 노드를 반환|
    |lastChild|마지막 자식 노드를 반환|
    |previousSibling|이전 형제 노드를 반환|
    |nextSibling|다음 형제 노드를 반환|

  - 요소 노드 탐색

    | 속성                   | 설명                         |
    | ---------------------- | ---------------------------- |
    | parentElement          | 부모 요소 노드를 반환        |
    | children               | 자식 요소 노드를 반환        |
    | firstElementChild      | 첫번째 자식 요소 노드를 반환 |
    | lastElementChild       | 마지막 자식 요소 노드를 반환 |
    | previousElementSibling | 이전 요소 노드를 반환        |
    | nextElementSibling     | 다음 요소 노드를 반환        |

### 노드 선택하기

- DOM 트리의 노드를 선택하는 다양한 메서드가 있습니다.

  | 메서드 형식             | 설명                                                        |
  | ----------------------- | ----------------------------------------------------------- |
  | getElementById()        | id 속성값과 일치하는 요소 노드를 1개만 선택                 |
  | getElementByClassName() | class 속성과 일치하는 요소 노드를 모두 선택                 |
  | getElementByTagName()   | 태그명과 일치하는 요소 노드를 모두 선택                     |
  | querySelector()         | 매개변수로 넘어오는 css선택자에 해당하는 노드를 1개 만 선택 |
  | querySelectorAll()      | 매개변수로 넘어오는 css 선택자에 해당하는 노드를 모두 선택  |

### 노드 조작하기

1. 콘텐츠 조작하기

   - textContent : 노드 요소의 모든 텍스트에 접근합니다
   - innerText : 노드 요소의 텍스트 중 웹 브라우저에 표시되는 텍스트에만 접근합니다
   - innerHTML : 노드 요소의 텍스트 중 HTML 태그를 포함한 텍스트에만 접근합니다

2. 스타일 조작하기 : 요소 노드는 style 속성으로 css를 지정할 수 있습니다.

   - 노드.style.css속성명 = "속성값";
   - 노드.style.cssText = "display:flex;justify-content:space-between;"

3. 클래스 조작하기 : classList속성의 add(),remove() 메서드로 class 속성을 조작할 수 있습니다

   - 노드.classList.add(class 속성값);
   - 노드.classLsit.remove(class 속성값);

4. 데이터 속성 조작하기 : dataset 속성으로 html 문서에서 data-\* 속성을 조작할 수 있습니다

   - 노드.dataset;
   - test.dataset.age = 30;
     > css에서 접근하기<br>
     > div:before{content:attr(data-age)}<br>
     > div[data-age='30']{width:300px;}<br>
     > div[data-age='40']{width:400px;}<br>

5. 메서드로 조작하기
   - 노드.getAttribute("속성명") : 속성을 가져옵니다
   - 노드.setAttribute("속성명","속성값") : 속성값을 성정합니다
   - 노드.removeAttribute("속성명") : 속성을 삭제합니다

### DOM 노드 추가/삭제하기

1. 노드 생성
   - createElement() : 요소 노드를 생성합니다
   - createTextNode() : 텍스트 노드를 생성합니다
   - createAttribute() : 속성 노드를 생성합니다
2. 노드 연결
   - 기준 노드.appendChild(자식 노드) : 기준 노드에 자식 노드를 연결합니다
   - 기준 노드.setAttributeNode(속성 노드) : 기준 노드에 속성 노드를 연결합니다
3. 노드 삭제
   - 부모 노드.removeChild(자식 노드) : 부모 노드에 연결된 자식 노드를 삭제합니다

### form 태그 선택하기

1. document 객체의 forms 속성을 사용하면 모든 form 태그를 참조하는 htmlCollection 객체가 반환됩니다. 반환된 htmlCollection 객체를 사용해 화면에 있는 form 요소 노드를 선택할 수 있습니다

2. form 태그의 name 속성값으로 form 요소 노드를 선택할 수 있습니다

### 폼 요소 선택하기

1. form 요소 노드의 elements 속성은 하위 노드의 폼 요소를 반환합니다. 반환된 객체르르사용해 개별 폼 요소 노드에 인덱스로 접근할 수 있습니다
2. 폼 요소의 name 속성값으로 폼 요소 노드에 바로 접근할 수 있습니다.

### 폼 요소의 입력값 다루기

1. 한 줄 입력요소, 여러줄 입력 요소는 value 속성을 참조하면 입력한 값을 가져올 수 있고,
   value 속성에 값을 할당하면 새로운 값을 설정할 수 있습니다

2. 체크박스 요소와 라디오 버튼 요소는 checked 속성으로 체크 또는 선택 상태를 확인할 수 있고, checked 속성에 true를 할당하면 체크 또는 선택 상태를 기본으로 설정할 수 있습니다.

3. 콤보박스 요소는 selected 속성으로 항목의 선택 상태를 확인 할 수 있고, selected 속성에 true를 할당하면 항목을 선택 상태로 설정할 수 있습니다.

4. 파일 업로드 요소는 FileList 객체를 사용해 요소의 값을 가져올 수 있습니다.

### 이벤트 사용하기

> 이벤트는 웹 브라우저와 사용자 사이에 상호작용이 발생하는 특정 시점을 의미합니다

- 마우스 이벤트

  - onclick / ondblclick / onmouseover / onmouseout / onmousemove / onwheel

- 키보드 이벤트

  - onkeypress / onkeydown / onkeyup

- 포커스 이벤트

  - onfocus / onblur

- 폼 이벤트

  - onsubmit : 폼이 전송될 때 발생합니다

- 리소스 이벤트
  - onload : 웹 브라우저의 리소스 로드가 끝나면 발생합니다

### 이벤트 객체와 this

1. 이벤트 객체는 이벤트 함수가 호출될 때 내부적으로 전달되는 이벤트 정보가 담긴 객체를 의미합니다.
2. 이벤트 객체의 preventDefault() 메서드를 사용하면 태그에 적용된 기본 이벤트를 취소할 수 있습니다.
3. 이벤트 함수 내부에서 this 키워드를 참조하면 이벤트를 발생시킨 요소 노드를 가리킵니다. 단, 화살표 함수일 때는 이벤트 객체의 target 속성으로 참조해야 합니다.

## 셀프체크

<a href="./080313-main/080313-main/12/selfcheck/login.html" target="_blank">셀프 체크 예제 코드</a>

### 셀프체크 문제 및 답

```
로그인 버튼 클릭 시 확인해야 하는 조건

1. 폼 전송 이벤트를 취소하세요.
2. 아이디가 입력됐는지 확인하고, 입력되지 않았으면 “아이디를 입력해 주세요.”라는 경고창을 표시하고 포커스를 이동합니다.
3. 아이디 값에 @ 기호가 없으면 “아이디는 이메일 형식으로 입력해 주세요.”라는 경고창을 표시하고 포커스를 이동합니다.
4. 비밀번호가 입력됐는지 확인하고, 입력되지 않았으면 “비밀번호를 입력해 주세요.”라는 경고창을 표시하고 포커스를 이동합니다.
5. 비밀번호 길이가 4자리 이하일 경우 “비밀번호는 5자리 이상 입력해 주세요.”라는 경고창을 표시하고 포커스를 이동합니다.
6. 모든 검증이 끝나면 폼을 전송해 주세요.
```

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Roboto", sans-serif;
      }

      #login {
        width: 304px;
        height: 390px;
        padding: 28px 38px;
        border: 1px solid #000;
        margin: 100px auto;
      }

      #login fieldset {
        border: none;
      }

      #login fieldset legend {
        position: absolute;
        top: -99999px;
      }

      #login button {
        width: 228px;
        height: 44px;
        border: 1px solid #000;
        background-color: white;
        font-weight: bold;
      }

      #login input {
        width: 228px;
        height: 44px;
        border: 1px solid #000;
        padding: 0 10px;
        margin-bottom: 21px;
        background-color: #eaeaea;
      }

      #login > fieldset + p {
        margin: 24px 0;
        font-size: 16px;
        font-weight: bold;
        text-align: center;
      }

      #login button[type="submit"] {
        background-color: #373f3c;
        color: white;
        margin-bottom: 27px;
        font-weight: normal;
        cursor: pointer;
      }

      #login a {
        text-decoration: none;
        color: #2c3432;
        font-size: 14px;
        text-align: center;
        display: block;
      }
    </style>
  </head>

  <body>
    <form id="login" action="ok.html">
      <fieldset>
        <legend>로그인</legend>
        <button type="button">Login in with Google</button>
      </fieldset>
      <p>or</p>
      <fieldset>
        <legend>일반 로그인</legend>
        <label>
          <input type="text" name="username" placeholder="Username" />
        </label>
        <label>
          <input type="password" name="password" placeholder="Password" />
        </label>
        <button type="submit">LOGIN</button>
      </fieldset>
      <a href="">Forget your password?</a>
    </form>
    <script>
      const login = document.querySelector("#login");
      const username = login.username;
      const password = login.password;
      login.addEventListener("submit", function (e) {
        e.preventDefault();
        if (!username.value) {
          alert("아이디를 입력해 주세요.");
          username.focus();
          return;
        }
        if (!username.value.includes("@")) {
          alert("아이디는 이메일 형식으로 입력해 주세요.");
          username.focus();
          return;
        }
        if (!password.value) {
          alert("비밀번호를 입력해 주세요.");
          password.focus();
          return;
        }
        if (password.value.length < 5) {
          alert("비밀번호는 5자리 이상 입력해 주세요.");
          password.focus();
          return;
        }
        this.submit();
      });
    </script>
  </body>
</html>
```

> 정답 😒

```javascript
document.forms[0].addEventListener("submit", function (e) {
  // 1
  e.preventDefault();
  const idEl = document.forms[0].username;
  const idValue = idEl.value.trim();
  const pwEl = document.forms[0].password;
  const pwValue = pwEl.value.trim();
  // 2
  if (idValue === "") {
    alert("아이디를 입력해 주세요.");
    idEl.focus();
    return;
  }
  // 3
  if (idValue.indexOf("@") === -1) {
    alert("아이디는 이메일 형식으로 입력해 주세요.");
    idEl.focus();
    return;
  }
  // 4
  if (pwValue === "") {
    alert("비밀번호를 입력해 주세요.");
    pwEl.focus();
    return;
  }
  // 5
  if (pwValue.trim().length <= 4) {
    alert("비밀번호는 5자리 이상 입력해 주세요.");
    pwEl.focus();
  }
  // 6
  this.submit();
});
```

### 셀프체크 후기

- trim() 체크 필요
- name 속성으로 선택자 쉽게 찾을 필요
  - form에 name="frm1" 추가 후 document.frm1.username
- return 으로 참이면 멈춤 체크 필요
- 폼요소는 submit() 메서드로 전송
- includes 메서드 말고 indexOf() 메서드 사용해서 -1 보다 큰값이면 @ 기호가 있다는 의미


## Final Project

<a href="./080313-main/080313-main/13/ing/index.html" target="_blank">Final Project</a>

