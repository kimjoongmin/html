## 함수란

- 어떤 목적을 가지고 작성한 코드를 모아 둔 블록문

## 함수를 정의하는 방법

### 함수 선언문으로 함수 정의하기

- function 식별자(){}
- 함수명();

### 함수 표현식으로 함수 정의하기

- const 변수명 = function (){} //익명함수
- const 변수명 = function 식별자(){} // 네이밍함수

### 화살표 함수로 함수 정의하기

- () => {};

## 함수 기능 확장하기

### 매개변수와 인수

- 매개변수`parameter` : 함수를 정의할때 외부에서 전달하는 데이터를 함수에서 받을 수 있도록 정의하는 변수
- 인수`argument` : 정의한 함수를 호출할 때 소괄호 안에 전달하고 싶은 데이터

```javascript
function gugudan(dan) {
  for (let i = 1; i < 10; i++) {
    console.log(`${dan} * ${i} = ${dan * i}`);
  }
}
gugudan(9);
gugudan(5);
```

`모든 함수 매개변수에 기본값을 할당 할수 있음 ES6만`<br>
_const gugudan = (dan = 9) => {생략}_

### 매개변수의 특징

- 매개변수의 기본값은 undefined
- 명명규칙
- 데이터 전달
- 기본값 할당

### return 문

**함수를 호출할때 데이터를 전달하려면 매개변수를 정의해야 하듯이, 함수 외부로 데이터를 반환할 때는 return문을 사용**<br>
_return 식(또는 값)_

```javascript
function sum(num1, num2) {
  let result = num1 + num2;
  console.log(result);
}
sum(10, 20); //잘됨
```

```javascript
function sum(num1, num2) {
  let result = num1 + num2;
}
sum(10, 20);
console.log(result); // 정의되지 않은 변수 에러..
```

이를 해결하기 위해 return 문으로 함수 내부 데이터를 함수 외부로 전달해야함

```javascript
function sum(num1, num2) {
  let result = num1 + num2;
  return result;
}
const result = sum(10, 20);
console.log(result);
```

함수 내부에서 데이터를 반환하지 않는 return문을 만나면 return 문 다음에 코드가 있더라도 함수 실행을 즉시 종료하고 undefined를 반환

```javascript
function sum(num1, num2) {
  if (typeof num1 !== "Number" || typeof num2 !== "Number") {
    return; //매개변수가 숫자가 아니면 강제 종료
  }
  return num1 + num2;
}
// const result = sum(10, 50);
const result = sum("a", "b");
console.log(result);
```

화살표 함수와 return문
`화살표 함수에서 {}를 생략하면 화살표 다음에 오는 코드는 return 문으로 처리됩니다`

```javascript
const sum = (num1, num2) => num1 + num2;
const result = sum(10, 20); //30
console.log(result);
```

## 함수의 특징 이해하기

### 스코프

- 함수 스코프
  - 함수 내부는 지역 스코프
  - 함수 외부는 전역 스코프
- 블록 스코프 : let, const
- 참조 우선순위

### 함수 호이스팅

**코드를 선언과 할당으로 분리해 선언부를 자신의 스코프 최상위로 끌어올리는 것**

```javascript
console.log(num);
var num = 10; //에러는 아니고 undefined - 호이스팅 의해 아래처럼 실행됨

var num; //선언
console.log(num);
num = 10; //할당
```

`그러나 함수(선언문)는 아래에 있어도 호이스팅 때문에 최상단에 선언됨 그래서 실행잘됨 그러나 함수 표현식은 undefined`

예제

```javascript
var text = "outside";
function printScope() {
  console.log(text);
  var text = "inside";
}
printScope();
//var 는 함수 스코프이고 inside는 console 아래에 있기 때문에
//호이스팅이 일어나서 에러는 나지 않고
//var text;가 함수 내부 최상단에 선언만 되고 할당이 안되었기 때문에 undefined 출력
```

## 즉시 실행함수 사용하기

(function(){

})();

```javascript
const init = () => {
  console.log("init");
};
init();
//한번밖에 사용못함 - 전역스코프가 오염됐다
//그래서 아래처럼 즉시실행함수로 정의 함수를 소괄호로 감싸고 실행 ();
//즉시 실행 함수는 한번 실행 후 메모리에서 삭제
(() => {
  console.log("init");
})();
```

예제 다음 코드를 실행하면 출력될 변수 result의 값을 고르세요

```javascript
const result = (function (a, b) {
  function init() {
    return doSum(a, b);
  }
  function doSum(a, b) {
    return a + b;
  }
  return init();
})(10, 20);
console.log(result); //30
```

### 셀프체크

- 원의 넓이를 구하는 공식은 반지름 * 반지름 *3.14입니다 원의 반지름을 이용해 원의 넓이를 반환하는 함수를 만들어보세요

```javascript
const area = (radius) => {
  return radius * radius * 3.14;
};
area(10);
```

- 매개변수로 배열을 전달받아 배열의 요소 중에서 가장 큰 수를 찾아 반환하는 함수를 만들어보세요 이때 배열안의 데이터는 모두 0보다 큰 정수라고 가정합니다

```javascript
const bigNum = (arr) => {
  let result = 0;
  for (let i = 0; i < arr.length; i++) {
    let currentNum = arr[i];
    if (result < currentNum) {
      result = currentNum;
    }
  }
  return result;
};
bigNum([10, 222, 20, 99, 77]);
```

- 체질량 지수 (bmi)를 계산하는 공식은 몸무게를 키(m)의 제곱으로 나눈 값입니다 사용자에게 키(cm)와 몸무게(kg)에 해당하는 값을 전달받아 체질량 지수를 계산합니다 체질량 지수가 26점 이상이면 비만, 24~25점은 과체중, 18.5~23점은 정상, 18.5점 미만은 저체중을 반환하는 함수를 만들어보세요

```javascript
function calcBmi(height, weight) {
  let mHeight = height / 100;
  let bmi = weight / (mHeight * mHeight);
  let result = bmi.toFixed(1);
  // console.log(result);
  if (bmi > 26) {
    console.log(`당신의 BMI 지수는 ${result}점으로 '비만' 입니다!`);
  } else if (bmi > 24) {
    console.log(`당신의 BMI 지수는 ${result}점으로 '과체중' 입니다!`);
  } else if (bmi > 18.5) {
    console.log(`당신의 BMI 지수는 ${result}점으로 '정상' 입니다!`);
  } else {
    // console.log(`당신의 BMI 지수는 ${result}점으로 저체중 입니다!`);
    console.log("당신의 BMI 지수는 " + result + "점으로  '저체중' 입니다!");
  }
}
calcBmi(180, 70); //당신의 BMI 지수는 21.6점으로 정상 입니다!
```
